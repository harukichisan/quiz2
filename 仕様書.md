# シンプルクイズアプリ 仕様書

## 1. プロジェクト概要

### 1.1 コンセプト
「昔のシンプルなみんはや」をイメージした、純粋にクイズを楽しむことだけに集中できる早押しクイズアプリ

### 1.2 開発ロードマップ
- **フェーズ1**: Web版プロトタイプ(MVP)
- **フェーズ2**: スマホアプリ版展開

### 1.3 技術スタック(Web版)
- フロントエンド: React
- スタイリング: Tailwind CSS
- 状態管理: React Hooks
- 問題データ: JSON形式(後のDB移行を考慮)

---

## 2. ゲームシステム仕様

### 2.1 基本ルール
- **問題数**: 20問/1ゲーム
- **回答方式**: ひらがな4択選択式
- **制限時間**: 各選択につき10秒
- **得点方式**: 正解+1点、不正解0点(20点満点)

### 2.2 回答システム詳細

#### 2.2.1 ひらがな4択方式
- 正解のひらがなを1文字ずつ選択していく
- 各文字ごとに4つの選択肢が表示される
- 選択肢は「正解の文字 + ランダムな3文字」で構成

**例**: 正解が「とうきょう」の場合
```
1文字目: [と][か][さ][は] → 「と」を選択
2文字目: [う][ま][き][ら] → 「う」を選択
3文字目: [き][て][の][ん] → 「き」を選択
4文字目: [よ][も][こ][そ] → 「よ」を選択
5文字目: [う][え][お][い] → 「う」を選択
```

#### 2.2.2 タイマー仕様
- 各文字選択時に10秒のタイマースタート
- 1文字選択するごとにタイマーが10秒にリセット
- タイムアップで不正解扱い、次の問題へ

#### 2.2.3 正誤判定
- 全文字を正しく選択 → 正解(+1点)
- 途中で間違った文字を選択 or タイムアップ → 不正解(0点)

---

## 3. UI/UXデザイン仕様

### 3.1 デザインコンセプト
「ミニマル + 少しポップ」

### 3.2 カラーパレット
- **背景**: 白 (#FFFFFF)
- **メインテキスト**: ダークグレー (#1F2937)
- **アクセントカラー**: 明るいブルー (#3B82F6) または グリーン (#10B981)
- **ボタン**: 中程度の角丸、ホバー時に色が濃くなる

### 3.3 タイポグラフィ
- **フォント**: ゴシック系
- **サイズ**: 読みやすさを最優先
  - 問題文: 大きめ(24px~)
  - 選択肢: 大きくタップしやすく(32px~)
  - UI情報: 小さめ(14px~)

### 3.4 レスポンシブ対応
- PC/タブレット/スマホすべてで快適に動作
- タッチ操作を想定したボタンサイズ(最小44x44px)

---

## 4. 画面設計

### 4.1 画面遷移フロー
```
スタート画面 → ゲーム画面(20問ループ) → 結果画面
     ↑                                      ↓
     └──────────────「もう一度」──────────────┘
```

### 4.2 各画面の要素

#### 4.2.1 スタート画面
- アプリタイトル
- 「スタート」ボタン
- (将来的に)モード選択、設定など

#### 4.2.2 ゲーム画面
```
┌─────────────────────────────────────┐
│  問題 3/20              残り時間: 8秒  │
│  スコア: 2点                          │
├─────────────────────────────────────┤
│                                     │
│        この国の首都はどこ?           │
│                                     │
│        現在の入力: とうき            │
│                                     │
│    ┌──────┬──────┬──────┬──────┐  │
│    │  よ  │  も  │  こ  │  そ  │  │
│    └──────┴──────┴──────┴──────┘  │
│                                     │
└─────────────────────────────────────┘
```

**表示要素**:
- 問題番号(X/20)
- 残り時間(タイマー)
- 現在のスコア
- 問題文
- 現在までの入力文字
- 4つの選択肢ボタン

#### 4.2.3 結果画面
- 最終スコア(X/20)
- 正答率(XX%)
- 評価メッセージ(例: 「すごい!」「がんばった!」)
- 「もう一度」ボタン
- (将来的に)詳細結果、シェア機能など

---

## 5. 問題データ仕様

### 5.1 データ構造(JSON)
```json
{
  "questions": [
    {
      "id": 1,
      "question": "日本の首都はどこ?",
      "answer": "とうきょう",
      "category": "地理",
      "difficulty": "初級"
    },
    {
      "id": 2,
      "question": "この作家の代表作は『吾輩は猫である』",
      "answer": "なつめそうせき",
      "category": "文学",
      "difficulty": "中級"
    }
  ]
}
```

### 5.2 問題の要件
- **回答**: すべてひらがなで記述
- **文字数**: 2文字〜10文字程度を推奨
- **カテゴリ**: 雑学、歴史、地理、スポーツ、エンタメ、科学など
- **難易度**: 初級、中級、上級(将来的な難易度選択機能用)

### 5.3 初期問題数
- MVP版: 30問程度
- 本リリース: 100問以上を目標

---

## 6. 機能仕様(MVP)

### 6.1 実装する機能
- ✅ ソロプレイモード(20問固定)
- ✅ ひらがな4択選択システム
- ✅ タイマー機能(10秒/選択、リセット機能付き)
- ✅ スコア表示
- ✅ 結果画面

### 6.2 実装しない機能(将来的に追加)
- ❌ 複数人対戦
- ❌ オンライン機能
- ❌ ランキング
- ❌ 問題ジャンル選択
- ❌ 難易度選択
- ❌ BGM/効果音
- ❌ アニメーション/エフェクト
- ❌ ユーザー登録/ログイン

---

## 7. 技術実装詳細

### 7.1 状態管理
**主な状態**:
- `currentQuestion`: 現在の問題番号(1〜20)
- `score`: 現在のスコア
- `inputText`: 現在までの入力文字列
- `timeLeft`: 残り時間
- `gameStatus`: ゲーム状態('start' | 'playing' | 'finished')
- `questions`: 問題データ配列

### 7.2 4択生成ロジック
```javascript
// 擬似コード
function generateChoices(correctChar) {
  const hiragana = 'あいうえお...'; // 全ひらがな
  const choices = [correctChar];
  
  while (choices.length < 4) {
    const randomChar = hiragana[random()];
    if (!choices.includes(randomChar)) {
      choices.push(randomChar);
    }
  }
  
  return shuffle(choices); // ランダムに並び替え
}
```

### 7.3 タイマー処理
- `setInterval`で1秒ごとにカウントダウン
- 文字選択時に`clearInterval` → 新しいタイマー開始
- 0秒になったら不正解処理

---

## 8. 非機能要件

### 8.1 パフォーマンス
- 選択肢タップからUI反映まで100ms以内
- ページロード時間3秒以内

### 8.2 互換性
- モダンブラウザ対応(Chrome, Firefox, Safari, Edge 最新版)
- レスポンシブデザイン(320px〜)

### 8.3 アクセシビリティ
- キーボード操作対応(数字キー1〜4で選択可能)
- 十分なコントラスト比
- 適切なフォントサイズ

---

## 9. 今後の拡張予定

### 9.1 フェーズ2(機能追加)
- ローカル対戦モード
- 問題ジャンル選択
- 難易度選択
- 効果音/BGM
- アニメーション

### 9.2 フェーズ3(スマホアプリ化)
- React Nativeでのネイティブアプリ化
- プッシュ通知
- オフライン対応
- アプリストア公開

### 9.3 フェーズ4(オンライン機能)
- リアルタイム対戦
- フレンド機能
- ランキング
- 問題投稿機能

---

## 10. 開発スケジュール(目安)

| フェーズ | 期間 | 成果物 |
|---------|------|--------|
| 設計 | 完了 | 本仕様書 |
| プロトタイプ開発 | 1〜2週間 | 動作するMVP |
| テスト・改善 | 1週間 | ブラッシュアップ版 |
| 問題作成 | 継続的 | 100問以上のDB |
| 公開準備 | 1週間 | Web公開版 |

---

## 補足事項

- 音声・効果音は後のフェーズで追加
- デザインの細部は実装しながら調整
- ユーザーフィードバックを受けて柔軟に改善